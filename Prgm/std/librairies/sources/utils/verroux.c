#include "environnement.h"#include <unistd.h>#ifdef UNIX    #include <sys/fcntl.h>#endif#include "verroux.h"/* ========================================================================= */void VerrouInit(TypeVerrou *lck, char *nom) { *lck = sem_open(nom,O_CREAT,0,1); }/* ========================================================================= */int VerrouFerme(TypeVerrou *lck) { return(sem_wait(*lck)); }/* ========================================================================= */int VerrouOuvre(TypeVerrou *lck) { return(sem_post(*lck)); }/* ========================================================================= */int Verrouille(TypeVerrou *lck) { return(sem_trywait(*lck)); }